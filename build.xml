<project default="build" name='Ant test' >
		
	<target name="no_op">	
	</target>
	
	<target name="build">
	  <echo message="this is ant build" />
    <echo message="##teamcity[message text='simple error' errorDetails='error detail message' status='ERROR' flowId='simpleerror']" />
    
    <echo message="##teamcity[compilationStarted compiler='msbuild' flowId='msbuild']" />
    <echo message="##teamcity[message text='error between compilation block' errorDetails='this is the error detail message' status='ERROR' flowId='msbuild']" />
    <echo message="##teamcity[compilationFinished compiler='msbuild' flowId='msbuild']" />
    
    <echo message="##teamcity[buildProblem description='this is build problem' identity='problem1']" />
    
    <fail message="Explicitely fail the build." />
	</target>

	<target name="test">
	  <echo message="this is test failure" />
    
    <echo message="##teamcity[testStarted name='className.testName' flowId='test']" />
    <echo message="##teamcity[testStdOut name='className.testName' out='text' flowId='test']" />
    <echo message="##teamcity[testStdErr name='className.testName' out='error text' flowId='test']" />
    <echo message="##teamcity[testFinished name='className.testName' duration='50' flowId='test']" />
	</target>
</project>
